<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightning Calendar Core</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Lightning Calendar Core</h1>
            <nav>
                <a href="#features">Features</a>
                <a href="#documentation">Documentation</a>
                <a href="demo.html">Live Demo</a>
                <a href="https://github.com/thedhanawada/lightning-calendar-core">GitHub</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h2>A calendar engine built for Salesforce</h2>
                <p>Zero dependencies. Works in Locker Service. Pure JavaScript.</p>
                <div class="cta-group">
                    <a href="demo.html" class="button primary">Try Live Demo</a>
                    <a href="#quickstart" class="button secondary">Quick Start</a>
                </div>
            </div>
        </section>

        <section id="features" class="features">
            <div class="container">
                <h2>Core Features</h2>
                <div class="feature-grid">
                    <div class="feature">
                        <h3>Event Validation</h3>
                        <p>Automatic normalization and validation of event data. Ensures data integrity with comprehensive type checking and date validation.</p>
                        <pre><code>// Events are automatically validated
const event = new Event({
    id: 'evt-1',
    title: 'Meeting',
    start: '2024-12-25T10:00:00',
    end: '2024-12-25T11:00:00'
});
// Invalid events throw descriptive errors</code></pre>
                    </div>

                    <div class="feature">
                        <h3>Timezone Support</h3>
                        <p>Full timezone awareness with DST handling. Store events in one timezone, display in another.</p>
                        <pre><code>// Create event in New York time
event.updateTimes(start, end, 'America/New_York');

// Get start time in Tokyo
const tokyoTime = event.getStartInTimezone('Asia/Tokyo');</code></pre>
                    </div>

                    <div class="feature">
                        <h3>Recurrence Engine</h3>
                        <p>RFC 5545 compliant recurrence with timezone-aware expansion and exception dates.</p>
                        <pre><code>const rule = {
    freq: 'WEEKLY',
    interval: 2,
    byDay: ['MO', 'WE', 'FR'],
    until: new Date('2025-12-31')
};</code></pre>
                    </div>

                    <div class="feature">
                        <h3>Conflict Detection</h3>
                        <p>Identify scheduling conflicts including time overlaps, attendee conflicts, and resource availability.</p>
                        <pre><code>const conflicts = eventStore.getAllConflicts();
if (conflicts.hasConflicts) {
    console.log(`Found ${conflicts.totalConflicts} conflicts`);
}</code></pre>
                    </div>

                    <div class="feature">
                        <h3>Batch Operations</h3>
                        <p>Performant batch operations with automatic rollback on failure.</p>
                        <pre><code>// Add multiple events with rollback support
await eventStore.executeBatch(async () => {
    eventStore.addEvents(eventArray);
    // Automatic rollback if any fail
});</code></pre>
                    </div>

                    <div class="feature">
                        <h3>State Management</h3>
                        <p>Built-in undo/redo with configurable history depth.</p>
                        <pre><code>// Undo last change
if (stateManager.canUndo()) {
    stateManager.undo();
}

// Check redo availability
console.log(`${stateManager.getRedoCount()} redos available`);</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <section id="quickstart" class="quickstart">
            <div class="container">
                <h2>Quick Start</h2>

                <div class="installation">
                    <h3>Browser</h3>
                    <pre><code>&lt;script type="module"&gt;
    import { Calendar, Event } from './dist/calendar-core.esm.js';

    const calendar = new Calendar({
        view: 'month',
        timeZone: 'America/New_York'
    });

    calendar.addEvent(new Event({
        id: '1',
        title: 'Team Meeting',
        start: new Date(),
        end: new Date(Date.now() + 3600000)
    }));
&lt;/script&gt;</code></pre>
                </div>

                <div class="installation">
                    <h3>Lightning Web Component</h3>
                    <pre><code>// Copy core to your LWC directory
// force-app/main/default/lwc/calendarCore/

import { Calendar, Event } from 'c/calendarCore';

export default class MyCalendar extends LightningElement {
    calendar;

    connectedCallback() {
        this.calendar = new Calendar({
            timeZone: 'America/New_York'
        });
    }
}</code></pre>
                </div>

                <div class="installation">
                    <h3>Node.js</h3>
                    <pre><code>import { Calendar, Event, EventStore } from 'lightning-calendar-core';

const store = new EventStore();
store.addEvent(new Event({
    id: 'evt-1',
    title: 'Quarterly Review',
    start: new Date('2024-12-25T14:00:00Z'),
    end: new Date('2024-12-25T15:00:00Z')
}));

// Query events
const todayEvents = store.getEventsForDate(new Date());</code></pre>
                </div>
            </div>
        </section>

        <section id="documentation" class="documentation">
            <div class="container">
                <h2>Documentation</h2>
                <div class="doc-grid">
                    <div class="doc-card">
                        <h3>Core Concepts</h3>
                        <ul>
                            <li><a href="#calendar">Calendar Class</a></li>
                            <li><a href="#event">Event Model</a></li>
                            <li><a href="#eventstore">Event Store</a></li>
                            <li><a href="#statemanager">State Manager</a></li>
                        </ul>
                    </div>
                    <div class="doc-card">
                        <h3>Advanced Features</h3>
                        <ul>
                            <li><a href="#recurrence">Recurrence Patterns</a></li>
                            <li><a href="#timezones">Timezone Handling</a></li>
                            <li><a href="#conflicts">Conflict Detection</a></li>
                            <li><a href="#performance">Performance Optimization</a></li>
                        </ul>
                    </div>
                    <div class="doc-card">
                        <h3>Integration</h3>
                        <ul>
                            <li><a href="#salesforce">Salesforce Setup</a></li>
                            <li><a href="#lwc">LWC Integration</a></li>
                            <li><a href="#apex">Apex Controllers</a></li>
                            <li><a href="#deployment">Deployment Guide</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="performance">
            <div class="container">
                <h2>Performance Metrics</h2>
                <div class="metrics">
                    <div class="metric">
                        <span class="value">0ms</span>
                        <span class="label">Dependencies</span>
                    </div>
                    <div class="metric">
                        <span class="value">&lt;50ms</span>
                        <span class="label">Query 1000 Events</span>
                    </div>
                    <div class="metric">
                        <span class="value">~45KB</span>
                        <span class="label">Bundle Size</span>
                    </div>
                    <div class="metric">
                        <span class="value">100%</span>
                        <span class="label">Test Coverage</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://github.com/thedhanawada/lightning-calendar-core">GitHub Repository</a></li>
                        <li><a href="https://github.com/thedhanawada/lightning-calendar-core/wiki">Documentation</a></li>
                        <li><a href="https://github.com/thedhanawada/lightning-calendar-core/issues">Issue Tracker</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>License</h4>
                    <p>MIT License. Free for commercial use.</p>
                    <p>Built for Salesforce developers.</p>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>