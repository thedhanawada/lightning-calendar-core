<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightning Calendar Core - Interactive Console</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Reset and Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background: #f5f5f5;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        header {
            background: white;
            border-bottom: 1px solid #e5e5e5;
            padding: 12px 20px;
            flex-shrink: 0;
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: none;
        }

        header h1 {
            font-size: 1.25rem;
            font-weight: 500;
        }

        header nav {
            display: flex;
            gap: 20px;
        }

        header nav a {
            color: #666;
            text-decoration: none;
            font-size: 0.875rem;
        }

        header nav a:hover {
            color: #111;
        }

        /* Main Layout */
        .main-container {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* Left Panel - Calendar & Controls */
        .left-panel {
            flex: 1;
            background: white;
            display: flex;
            flex-direction: column;
            min-width: 400px;
        }

        .calendar-controls {
            padding: 20px;
            border-bottom: 1px solid #e5e5e5;
            background: #fafafa;
        }

        .view-buttons {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .view-buttons button {
            padding: 6px 16px;
            background: white;
            border: 1px solid #ddd;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .view-buttons button.active {
            background: #333;
            color: white;
            border-color: #333;
        }

        .view-buttons button:hover:not(.active) {
            background: #f5f5f5;
        }

        .calendar-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .quick-add-form {
            padding: 16px;
            background: #f8f8f8;
            border-top: 1px solid #e5e5e5;
        }

        .quick-add-form h3 {
            font-size: 0.875rem;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #666;
        }

        .form-row {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }

        .form-row input {
            flex: 1;
            padding: 6px 10px;
            border: 1px solid #ddd;
            font-size: 0.875rem;
        }

        .form-row button {
            padding: 6px 16px;
            background: #0066cc;
            color: white;
            border: none;
            font-size: 0.875rem;
            cursor: pointer;
        }

        .form-row button:hover {
            background: #0052a3;
        }

        /* Right Panel - Console */
        .right-panel {
            width: 50%;
            max-width: 800px;
            min-width: 400px;
            background: #1a1a1a;
            display: flex;
            flex-direction: column;
            border-left: 1px solid #333;
        }

        .console-header {
            padding: 16px 20px;
            background: #000;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .console-title {
            color: #d4d4d4;
            font-size: 0.875rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .console-status {
            color: #4ec9b0;
            font-size: 0.75rem;
            font-family: var(--font-mono);
        }

        .console-body {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .console-output {
            flex: 1;
            background: #000;
            color: #d4d4d4;
            padding: 16px;
            overflow-y: auto;
            font-family: var(--font-mono);
            font-size: 0.875rem;
        }

        .quick-commands {
            background: #1a1a1a;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
            padding: 12px 16px;
            max-height: 200px;
            overflow-y: auto;
        }

        .quick-commands-title {
            color: #999;
            font-size: 0.625rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .command-section {
            margin-bottom: 12px;
        }

        .command-section-title {
            color: #666;
            font-size: 0.625rem;
            margin-bottom: 4px;
            text-transform: uppercase;
        }

        .command-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }

        .command-btn {
            padding: 4px 8px;
            background: #222;
            border: 1px solid #333;
            color: #d4d4d4;
            font-size: 0.7rem;
            font-family: var(--font-mono);
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .command-btn:hover {
            background: #333;
            color: #fff;
        }

        .command-btn.category-query { border-left: 2px solid #569cd6; }
        .command-btn.category-modify { border-left: 2px solid #4ec9b0; }
        .command-btn.category-info { border-left: 2px solid #dcdcaa; }

        .console-input-area {
            padding: 12px 16px;
            background: #000;
            border-top: 1px solid #333;
            display: flex;
            gap: 8px;
        }

        .console-input {
            flex: 1;
            padding: 8px 12px;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #d4d4d4;
            font-family: var(--font-mono);
            font-size: 0.875rem;
        }

        .console-input:focus {
            outline: none;
            border-color: #555;
            background: #222;
        }

        .console-run {
            padding: 8px 20px;
            background: #333;
            border: 1px solid #333;
            color: #d4d4d4;
            cursor: pointer;
            font-size: 0.875rem;
        }

        .console-run:hover {
            background: #444;
        }

        /* Calendar Display Styles */
        .month-view {
            width: 100%;
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e5e5e5;
            border: 1px solid #e5e5e5;
            margin-bottom: 1px;
        }

        .weekday {
            padding: 8px;
            background: #f8f8f8;
            text-align: center;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #666;
        }

        .month-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e5e5e5;
            border: 1px solid #e5e5e5;
        }

        .day {
            min-height: 60px;
            padding: 8px;
            background: white;
            position: relative;
        }

        .day.today {
            background: #fef5e7;
        }

        .day.other-month {
            background: #f8f8f8;
            color: #999;
        }

        .stats-bar {
            padding: 12px 20px;
            background: #f8f8f8;
            border-top: 1px solid #e5e5e5;
            display: flex;
            gap: 24px;
            font-size: 0.75rem;
        }

        .stat {
            display: flex;
            gap: 4px;
        }

        .stat-label {
            color: #666;
        }

        .stat-value {
            font-weight: 500;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .right-panel {
                width: 100%;
                max-width: none;
                position: absolute;
                right: -100%;
                top: 0;
                bottom: 0;
                transition: right 0.3s;
            }

            .right-panel.open {
                right: 0;
            }

            .toggle-console {
                display: block;
            }
        }

        .toggle-console {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            background: #333;
            color: white;
            border: none;
            cursor: pointer;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Lightning Calendar Core</h1>
            <nav>
                <a href="https://github.com/thedhanawada/lightning-calendar-core">GitHub</a>
                <a href="https://github.com/thedhanawada/lightning-calendar-core/wiki">Docs</a>
                <a href="demo.html">Full Demo</a>
                <a href="about.html">About</a>
            </nav>
        </div>
    </header>

    <div class="main-container">
        <!-- Left Panel - Calendar -->
        <div class="left-panel">
            <div class="calendar-controls">
                <div class="view-buttons">
                    <button data-view="month" class="active">Month</button>
                    <button data-view="week">Week</button>
                    <button data-view="day">Day</button>
                    <button data-view="list">List</button>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button id="prev-btn" style="padding: 6px 12px; background: white; border: 1px solid #ddd; cursor: pointer;">←</button>
                    <button id="today-btn" style="padding: 6px 16px; background: white; border: 1px solid #ddd; cursor: pointer;">Today</button>
                    <button id="next-btn" style="padding: 6px 12px; background: white; border: 1px solid #ddd; cursor: pointer;">→</button>
                </div>
            </div>

            <div class="calendar-content" id="calendar-display">
                <!-- Calendar renders here -->
            </div>

            <div class="quick-add-form">
                <h3>Quick Add Event</h3>
                <form id="quick-add">
                    <div class="form-row">
                        <input type="text" id="title" placeholder="Event title" required>
                        <input type="datetime-local" id="start" required>
                        <button type="submit">Add</button>
                    </div>
                </form>
            </div>

            <div class="stats-bar">
                <div class="stat">
                    <span class="stat-label">Events:</span>
                    <span class="stat-value" id="total-events">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">View:</span>
                    <span class="stat-value" id="current-view">Month</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Cache Hits:</span>
                    <span class="stat-value" id="cache-hits">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Undo Stack:</span>
                    <span class="stat-value" id="undo-count">0</span>
                </div>
            </div>
        </div>

        <!-- Right Panel - Console -->
        <div class="right-panel" id="console-panel">
            <div class="console-header">
                <span class="console-title">Interactive Console</span>
                <span class="console-status">● Connected</span>
            </div>

            <div class="console-body">
                <div class="console-output" id="console-output">
                    <div style="color: #569cd6;">// Lightning Calendar Core Console v1.0</div>
                    <div style="color: #608b4e;">// Objects available: calendar, Event, EventStore</div>
                    <div style="color: #608b4e;">// Try the commands below or type your own JavaScript</div>
                </div>

                <div class="quick-commands">
                    <div class="quick-commands-title">Quick Commands - Click to Execute</div>

                    <!-- Basic Operations -->
                    <div class="command-section">
                        <div class="command-section-title">Basic</div>
                        <div class="command-buttons">
                            <button class="command-btn category-query" data-command="calendar.getEvents()">Get Events</button>
                            <button class="command-btn category-query" data-command="calendar.getEventsForDate(new Date())">Today's Events</button>
                            <button class="command-btn category-modify" data-command='calendar.addEvent(new Event({ id: Date.now().toString(), title: "New Event", start: new Date(Date.now() + 3600000), end: new Date(Date.now() + 7200000) }))'>Add Event</button>
                            <button class="command-btn category-modify" data-command="calendar.eventStore.clear()">Clear All</button>
                        </div>
                    </div>

                    <!-- View Controls -->
                    <div class="command-section">
                        <div class="command-section-title">Views</div>
                        <div class="command-buttons">
                            <button class="command-btn category-modify" data-command="calendar.setView('month')">Month</button>
                            <button class="command-btn category-modify" data-command="calendar.setView('week')">Week</button>
                            <button class="command-btn category-modify" data-command="calendar.setView('day')">Day</button>
                            <button class="command-btn category-modify" data-command="calendar.today()">Today</button>
                            <button class="command-btn category-modify" data-command="calendar.next()">Next</button>
                            <button class="command-btn category-modify" data-command="calendar.previous()">Previous</button>
                        </div>
                    </div>

                    <!-- Advanced -->
                    <div class="command-section">
                        <div class="command-section-title">Advanced</div>
                        <div class="command-buttons">
                            <button class="command-btn category-info" data-command="calendar.eventStore.getStats()">Stats</button>
                            <button class="command-btn category-modify" data-command="calendar.state.undo()">Undo</button>
                            <button class="command-btn category-modify" data-command="calendar.state.redo()">Redo</button>
                            <button class="command-btn category-info" data-command="calendar.eventStore.getPerformanceMetrics()">Performance</button>
                            <button class="command-btn category-query" data-command='calendar.getEventsInRange(new Date(), new Date(Date.now() + 7 * 86400000))'>Next 7 Days</button>
                        </div>
                    </div>
                </div>

                <div class="console-input-area">
                    <input type="text"
                           id="console-input"
                           class="console-input"
                           placeholder="Type JavaScript code... (e.g., calendar.getEvents())"
                           autocomplete="off">
                    <button id="console-run" class="console-run">Run</button>
                </div>
            </div>
        </div>
    </div>

    <button class="toggle-console" id="toggle-console">Show Console</button>

    <!-- Load the real engine -->
    <script type="module">
        import { Calendar, Event, EventStore } from './dist/calendar-core.esm.js';

        // Make available globally
        window.Calendar = Calendar;
        window.Event = Event;
        window.EventStore = EventStore;

        // Initialize calendar
        const calendar = new Calendar({
            view: 'month',
            timeZone: 'America/New_York'
        });
        window.calendar = calendar;

        // Console functionality
        class ConsoleInterface {
            constructor() {
                this.output = document.getElementById('console-output');
                this.input = document.getElementById('console-input');
                this.commandHistory = [];
                this.historyIndex = -1;
                this.init();
            }

            init() {
                // Run button
                document.getElementById('console-run').addEventListener('click', () => {
                    this.execute(this.input.value);
                });

                // Enter key
                this.input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.execute(this.input.value);
                    }
                });

                // Arrow keys for history
                this.input.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        this.navigateHistory(-1);
                    } else if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        this.navigateHistory(1);
                    }
                });

                // Quick command buttons
                document.querySelectorAll('.command-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const command = btn.dataset.command;
                        this.input.value = command;
                        this.execute(command);
                    });
                });

                // Initial message
                setTimeout(() => {
                    this.log('Console ready. Try clicking commands or typing your own.', 'success');
                }, 100);
            }

            execute(command) {
                if (!command.trim()) return;

                this.log(`> ${command}`, 'command');
                this.commandHistory.push(command);
                this.historyIndex = this.commandHistory.length;

                try {
                    const result = eval(command);
                    if (result !== undefined) {
                        if (typeof result === 'object') {
                            this.log(JSON.stringify(result, null, 2), 'result');
                        } else {
                            this.log(String(result), 'result');
                        }
                    }

                    // Update UI if calendar was modified
                    if (command.includes('add') || command.includes('remove') || command.includes('clear') ||
                        command.includes('setView') || command.includes('next') || command.includes('previous') ||
                        command.includes('today')) {
                        updateCalendarDisplay();
                        updateStats();
                    }
                } catch (error) {
                    this.log(`Error: ${error.message}`, 'error');
                }

                this.input.value = '';
                this.input.focus();
            }

            navigateHistory(direction) {
                if (direction === -1 && this.historyIndex > 0) {
                    this.historyIndex--;
                    this.input.value = this.commandHistory[this.historyIndex];
                } else if (direction === 1 && this.historyIndex < this.commandHistory.length - 1) {
                    this.historyIndex++;
                    this.input.value = this.commandHistory[this.historyIndex];
                } else if (direction === 1 && this.historyIndex === this.commandHistory.length - 1) {
                    this.historyIndex = this.commandHistory.length;
                    this.input.value = '';
                }
            }

            log(message, type = 'info') {
                const entry = document.createElement('div');
                entry.style.marginBottom = '4px';
                entry.style.lineHeight = '1.4';

                switch(type) {
                    case 'command':
                        entry.style.color = '#569cd6';
                        entry.style.fontWeight = '500';
                        break;
                    case 'result':
                        entry.style.color = '#4ec9b0';
                        if (message.startsWith('[') || message.startsWith('{')) {
                            entry.style.whiteSpace = 'pre-wrap';
                            entry.style.fontSize = '0.8rem';
                        }
                        break;
                    case 'error':
                        entry.style.color = '#f48771';
                        entry.innerHTML = '✕ ' + this.escapeHtml(message);
                        break;
                    case 'success':
                        entry.style.color = '#4ec9b0';
                        entry.innerHTML = '✓ ' + this.escapeHtml(message);
                        break;
                    case 'info':
                        entry.style.color = '#dcdcaa';
                        entry.style.fontStyle = 'italic';
                        break;
                    default:
                        entry.style.color = '#d4d4d4';
                }

                if (type !== 'error' && type !== 'success') {
                    entry.textContent = message;
                }

                this.output.appendChild(entry);
                this.output.scrollTop = this.output.scrollHeight;
            }

            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }
        }

        // Calendar display functions
        function updateCalendarDisplay() {
            const viewData = calendar.getViewData();
            const container = document.getElementById('calendar-display');

            if (!viewData) {
                container.innerHTML = '<p>No data</p>';
                return;
            }

            switch(calendar.getView()) {
                case 'month':
                    renderMonth(container, viewData);
                    break;
                case 'week':
                    renderWeek(container, viewData);
                    break;
                case 'day':
                    renderDay(container, viewData);
                    break;
                case 'list':
                    renderList(container, viewData);
                    break;
            }

            document.getElementById('current-view').textContent = calendar.getView().charAt(0).toUpperCase() + calendar.getView().slice(1);
        }

        function renderMonth(container, viewData) {
            let html = '<div class="month-view">';
            html += '<h2 style="margin-bottom: 16px; font-size: 1.25rem; font-weight: 400;">' +
                    new Date(calendar.getCurrentDate()).toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) +
                    '</h2>';
            html += '<div class="weekdays">';
            ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].forEach(day => {
                html += `<div class="weekday">${day}</div>`;
            });
            html += '</div>';
            html += '<div class="month-grid">';

            viewData.weeks.forEach(week => {
                week.days.forEach(day => {
                    const classes = ['day'];
                    if (day.isToday) classes.push('today');
                    if (!day.isCurrentMonth) classes.push('other-month');

                    html += `<div class="${classes.join(' ')}">`;
                    html += `<div style="font-size: 0.875rem; margin-bottom: 4px;">${day.dayOfMonth}</div>`;
                    if (day.events && day.events.length > 0) {
                        html += `<div style="font-size: 0.625rem; color: #0066cc;">${day.events.length} event${day.events.length > 1 ? 's' : ''}</div>`;
                    }
                    html += '</div>';
                });
            });

            html += '</div></div>';
            container.innerHTML = html;
        }

        function renderWeek(container, viewData) {
            let html = '<div class="week-view">';
            html += '<h2 style="margin-bottom: 16px; font-size: 1.25rem; font-weight: 400;">Week View</h2>';
            html += '<div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px;">';

            viewData.days.forEach(day => {
                const isToday = day.isToday;
                html += `<div style="padding: 12px; background: ${isToday ? '#fef5e7' : '#f8f8f8'}; border: 1px solid #e5e5e5;">`;
                html += `<div style="font-weight: 500; margin-bottom: 8px;">${day.dayName}</div>`;
                html += `<div style="font-size: 1.5rem; margin-bottom: 8px;">${day.dayOfMonth}</div>`;
                if (day.events && day.events.length > 0) {
                    html += `<div style="font-size: 0.75rem; color: #0066cc;">${day.events.length} events</div>`;
                    day.events.slice(0, 3).forEach(event => {
                        html += `<div style="font-size: 0.625rem; padding: 2px 0; color: #666;">${event.title}</div>`;
                    });
                }
                html += '</div>';
            });

            html += '</div></div>';
            container.innerHTML = html;
        }

        function renderDay(container, viewData) {
            let html = '<div class="day-view">';
            html += '<h2 style="margin-bottom: 16px; font-size: 1.25rem; font-weight: 400;">' +
                    new Date(calendar.getCurrentDate()).toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' }) +
                    '</h2>';
            html += '<div style="max-height: 400px; overflow-y: auto;">';

            for (let hour = 0; hour < 24; hour++) {
                const hourData = viewData.hours && viewData.hours[hour];
                const hasEvents = hourData && hourData.events && hourData.events.length > 0;

                html += `<div style="display: flex; border-bottom: 1px solid #e5e5e5; min-height: 40px;">`;
                html += `<div style="width: 60px; padding: 8px; background: #f8f8f8; font-size: 0.75rem; color: #666;">${hour}:00</div>`;
                html += `<div style="flex: 1; padding: 8px;">`;
                if (hasEvents) {
                    hourData.events.forEach(event => {
                        html += `<div style="background: #e3f2fd; padding: 4px 8px; margin-bottom: 4px; font-size: 0.75rem;">${event.title}</div>`;
                    });
                }
                html += '</div></div>';
            }

            html += '</div></div>';
            container.innerHTML = html;
        }

        function renderList(container, viewData) {
            let html = '<div class="list-view">';
            html += '<h2 style="margin-bottom: 16px; font-size: 1.25rem; font-weight: 400;">List View</h2>';

            if (viewData.days && viewData.days.length > 0) {
                viewData.days.forEach(day => {
                    if (day.events && day.events.length > 0) {
                        html += `<div style="margin-bottom: 16px;">`;
                        html += `<h3 style="font-size: 0.875rem; font-weight: 500; margin-bottom: 8px; color: #666;">${day.dayName}</h3>`;
                        day.events.forEach(event => {
                            html += `<div style="padding: 8px; background: #f8f8f8; margin-bottom: 4px; font-size: 0.875rem;">${event.title}</div>`;
                        });
                        html += '</div>';
                    }
                });
            } else {
                html += '<p style="color: #999;">No events in this period</p>';
            }

            html += '</div>';
            container.innerHTML = html;
        }

        function updateStats() {
            const stats = calendar.eventStore.getStats();
            document.getElementById('total-events').textContent = stats.totalEvents;
            document.getElementById('undo-count').textContent = calendar.state.getUndoCount();

            const metrics = calendar.eventStore.getPerformanceMetrics();
            document.getElementById('cache-hits').textContent = metrics.cacheHits || 0;
        }

        // View switchers
        document.querySelectorAll('[data-view]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('[data-view]').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                calendar.setView(e.target.dataset.view);
                updateCalendarDisplay();
            });
        });

        // Navigation
        document.getElementById('prev-btn').addEventListener('click', () => {
            calendar.previous();
            updateCalendarDisplay();
        });

        document.getElementById('today-btn').addEventListener('click', () => {
            calendar.today();
            updateCalendarDisplay();
        });

        document.getElementById('next-btn').addEventListener('click', () => {
            calendar.next();
            updateCalendarDisplay();
        });

        // Quick add form
        document.getElementById('quick-add').addEventListener('submit', (e) => {
            e.preventDefault();
            const title = document.getElementById('title').value;
            const start = new Date(document.getElementById('start').value);

            if (title && start) {
                const event = new Event({
                    id: `evt-${Date.now()}`,
                    title,
                    start,
                    end: new Date(start.getTime() + 3600000)
                });
                calendar.addEvent(event);
                updateCalendarDisplay();
                updateStats();
                e.target.reset();
                consoleInterface.log(`Event "${title}" added successfully`, 'success');
            }
        });

        // Mobile console toggle
        const toggleBtn = document.getElementById('toggle-console');
        const consolePanel = document.getElementById('console-panel');
        toggleBtn.addEventListener('click', () => {
            consolePanel.classList.toggle('open');
            toggleBtn.textContent = consolePanel.classList.contains('open') ? 'Hide Console' : 'Show Console';
        });

        // Load sample data
        function loadSampleEvents() {
            const events = [
                new Event({
                    id: '1',
                    title: 'Team Meeting',
                    start: new Date(),
                    end: new Date(Date.now() + 3600000)
                }),
                new Event({
                    id: '2',
                    title: 'Project Review',
                    start: new Date(Date.now() + 86400000),
                    end: new Date(Date.now() + 86400000 + 7200000)
                }),
                new Event({
                    id: '3',
                    title: 'Sprint Planning',
                    start: new Date(Date.now() + 172800000),
                    end: new Date(Date.now() + 172800000 + 10800000)
                })
            ];

            calendar.eventStore.addEvents(events);
        }

        // Set default datetime
        const now = new Date();
        document.getElementById('start').value = now.toISOString().slice(0, 16);

        // Initialize
        const consoleInterface = new ConsoleInterface();
        loadSampleEvents();
        updateCalendarDisplay();
        updateStats();

        // Focus console
        document.getElementById('console-input').focus();
    </script>
</body>
</html>