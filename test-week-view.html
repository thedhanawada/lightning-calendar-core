<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lightning Calendar - Week View Test</title>
  <link rel="stylesheet" href="demo/style.css">
</head>
<body>
  <div class="container">
    <header class="main-header">
      <h1>Week View Test</h1>
      <p>Testing event positioning with 30-minute intervals</p>
    </header>

    <div id="calendar-container" class="calendar-container"></div>
  </div>

  <script type="module">
    import { Calendar, Event } from './demo/src/index.js';
    import { VanillaDOMRenderer } from './demo/src/renderers/VanillaDOMRenderer.js';

    // Initialize calendar in week view
    const container = document.getElementById('calendar-container');
    const calendar = new Calendar({
      view: 'week',
      date: new Date()
    });

    // Initialize renderer
    const renderer = new VanillaDOMRenderer(container, calendar);

    // Add test events at specific times
    const today = new Date();
    today.setHours(0, 0, 0, 0);

    // Test event at 9:00 AM for 1 hour
    const event1 = new Event({
      id: 'test-1',
      title: 'Test Event 9-10 AM',
      start: new Date(today.getTime() + 9 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 10 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-blue' }
    });

    // Test event at 9:30 AM for 30 minutes
    const event2 = new Event({
      id: 'test-2',
      title: 'Test Event 9:30-10 AM',
      start: new Date(today.getTime() + 9.5 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 10 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-green' }
    });

    // Test event at 2:00 PM for 2.5 hours
    const event3 = new Event({
      id: 'test-3',
      title: 'Long Event 2-4:30 PM',
      start: new Date(today.getTime() + 14 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 16.5 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-orange' }
    });

    // Test event tomorrow at 10:30 AM for 1.5 hours
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    const event4 = new Event({
      id: 'test-4',
      title: 'Tomorrow 10:30 AM - 12 PM',
      start: new Date(tomorrow.getTime() + 10.5 * 60 * 60 * 1000),
      end: new Date(tomorrow.getTime() + 12 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-purple' }
    });

    // Add events to calendar
    calendar.addEvent(event1);
    calendar.addEvent(event2);
    calendar.addEvent(event3);
    calendar.addEvent(event4);
  </script>
</body>
</html>